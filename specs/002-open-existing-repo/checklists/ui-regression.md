# UI 回归检查清单: 打开已有仓库（添加已有仓库）

**Purpose**: 确保"打开仓库"功能上线后"新建仓库"入口与流程不回归  
**Created**: 2025-12-25  
**Feature**: [spec.md](../spec.md)

---

## macOS 平台

### "+"入口

- [ ] 侧边栏工具栏存在"+"按钮
- [ ] 点击"+"后出现下拉菜单
- [ ] 菜单包含"新建仓库"选项
- [ ] 菜单包含"打开仓库"选项
- [ ] 两个选项文案清晰可区分

### 新建仓库流程（零回归）

- [ ] 点击"新建仓库"可打开目录选择
- [ ] 选择目录后可输入仓库名称
- [ ] 提交后仓库被加入列表
- [ ] 新建的仓库目录中出现 `.qingjian_metadata.json`
- [ ] 新建的仓库可正常打开并浏览

### 打开仓库流程（新增）

- [ ] 点击"打开仓库"可打开目录选择
- [ ] 选择含有效元信息的目录后可提交
- [ ] 提交后仓库被加入列表
- [ ] 打开的仓库可正常浏览

### 菜单命令

- [ ] 菜单栏"文件 → 打开仓库..."可用
- [ ] 快捷键 ⇧⌘O 可触发打开仓库

---

## iOS 平台

### "+"入口

- [ ] 仓库列表右上角存在"+"按钮
- [ ] 点击"+"后出现菜单/Sheet
- [ ] 菜单包含"新建仓库"选项
- [ ] 菜单包含"打开仓库"选项
- [ ] 两个选项文案清晰可区分

### 新建仓库流程（零回归）

- [ ] 点击"新建仓库"可打开文件选择器
- [ ] 选择目录后可输入仓库名称
- [ ] 提交后仓库被加入列表
- [ ] 新建的仓库可正常打开并浏览

### 打开仓库流程（新增）

- [ ] 点击"打开仓库"可打开文件选择器
- [ ] 选择含有效元信息的目录后可提交
- [ ] 提交后仓库被加入列表
- [ ] 打开的仓库可正常浏览

---

## 跨端一致性

- [ ] macOS 与 iOS 的菜单文案一致（"新建仓库"/"打开仓库"）
- [ ] 错误提示语义一致（缺失元信息/损坏/权限不足）
- [ ] 重复添加同一仓库时行为一致（不重复添加，定位到已有条目）

---

## Notes

- 每次 UI 变更后需重新验证本清单
- 如有失败项，必须在合入前修复或记录豁免原因

